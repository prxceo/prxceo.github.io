<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRX Legit Check</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div class="container">
        
        <header>
            <img id="app-logo" src="images/prx-logo.jpg" alt="PRX Logo">
            <h2>PRX LEGIT CHECK</h2>
        </header>

        <div class="instructions">
            <h4>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</h4>
            <ol>
                <li>–ù–∞–∂–º–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ" (–Ω—É–∂–Ω—ã –±–∏—Ä–∫–∏, —à–≤—ã, –ª–æ–≥–æ).</li>
                <li>–ù–∞–∂–º–∏ "–û–ø–ª–∞—Ç–∏—Ç—å" (200 Stars) –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏.</li>
                <li>AI + –≠–∫—Å–ø–µ—Ä—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç —Ç–≤–æ–π —Ç–æ–≤–∞—Ä.</li>
                <li>–í–µ—Ä–¥–∏–∫—Ç –ø—Ä–∏–¥–µ—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç.</li>
            </ol>
        </div>

        <button id="upload-button" class="btn btn-primary">
            üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
        </button>

        <button id="pay-button" class="btn btn-secondary">
            ‚≠êÔ∏è –û–ø–ª–∞—Ç–∏—Ç—å 200 –ó–≤–µ–∑–¥
        </button>

        <div id="status-message"></div>

    </div>

    <script>
        // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        const tg = window.Telegram.WebApp;
        const uploadButton = document.getElementById('upload-button');
        const payButton = document.getElementById('pay-button');
        const statusMessage = document.getElementById('status-message');

        tg.ready();
        tg.expand();

        // 2. –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"
        uploadButton.addEventListener('click', function() {
            statusMessage.textContent = "–û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å...";
            // –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É
            tg.sendData('start_upload');
            // –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É)
            // –ï—Å–ª–∏ –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è, –±–æ—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–æ–ª—É—á–∏—Ç –¥–∞–Ω–Ω—ã–µ
        });

        // 3. –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ "–û–ø–ª–∞—Ç–∏—Ç—å"
        payButton.addEventListener('click', function() {
            tg.showInvoice({
                title: 'PRX Legit Check',
                description: '–ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏',
                payload: 'prx-legit-check-v1',
                currency: 'XTR', 
                prices: [{ label: '–ü—Ä–æ–≤–µ—Ä–∫–∞ AI + –≠–∫—Å–ø–µ—Ä—Ç', amount: 200 }]
            }, (status) => {
                if (status === 'paid') {
                    statusMessage.textContent = '–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞!';
                    tg.sendData('paid_success');
                } else if (status === 'failed') {
                    statusMessage.textContent = '–û–ø–ª–∞—Ç–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å.';
                } else {
                    statusMessage.textContent = '–û—Ç–º–µ–Ω–∞.';
                }
            });
        });
    </script>
</body>
</html>